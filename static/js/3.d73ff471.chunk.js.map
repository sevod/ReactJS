{"version":3,"sources":["hoc/withAuthRedirect.js","components/Profile/Profile.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","event","currentTarget","autoFocus","onBlur","updateStatus","ProfileInfo","className","s","face","src","profile","photos","large","Post","item","message","like","likesCount","MyPosts","memo","postElements","postData","map","postBlock","console","log","AddPostReduxForm","onSubmit","values","addPost","newPostText","posts","maxLength30","maxLengthCreator","reduxForm","form","handleSubmit","Field","component","TextArea","name","validate","required","placeholder","MyPostsContainer","ProfilePage","dispatch","addPostActionCreator","Profile","content","Preloader","ProfileContainer","userId","match","params","history","autorizedUserId","getUserProfileThunkCreator","getUserStatusThunkCreator","updateStatusThunkCreator","compose","id","setUserProfile","withRouter"],"mappings":"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","file":"static/js/3.d73ff471.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth)\r\n                return <Redirect to={\"/login\"}/>;\r\n            return <Component {...this.props} />;\r\n        }\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__2j1mI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ProfileInfo_content___6oEH\",\"face\":\"ProfileInfo_face__2e1G5\",\"top\":\"ProfileInfo_top__3eeU2\",\"description_block\":\"ProfileInfo_description_block__w4ddv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBlock\":\"MyPosts_postBlock__2K_dY\",\"posts\":\"MyPosts_posts__2swUY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__pJdi6\",\"like\":\"Post_like__-Jvfw\"};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, {useEffect, useState} from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n\r\n    const onStatusChenge = (event) => {\r\n        setStatus(event.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}> {status} </span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input\r\n                    onChange={onStatusChenge}\r\n                    autoFocus={true}\r\n                    onBlur={deactivateEditMode}\r\n                    value={status}\r\n                />\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport s from './ProfileInfo.module.css'\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = (props) => {\r\n    return (\r\n        <div>\r\n            {/*<div>*/}\r\n            {/*    <img className={s.top} src='https://gazeta.spb.ru/wp-content/uploads/2019/06/beach-2179624_960_720.jpg'/>*/}\r\n            {/*</div>*/}\r\n            <div>\r\n                <img className={s.face} src={props.profile.photos.large} />\r\n                <ProfileStatusWithHooks status ={props.status} updateStatus={props.updateStatus}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <div>\r\n                <img src='https://i.pinimg.com/originals/f3/af/3a/f3af3ab02e4ea2074d74c48770ed6784.png'/>\r\n                {props.message}\r\n            </div>\r\n\r\n            <span className={s.like}>like {props.likesCount}</span>\r\n            <span className={s.like}> deslike</span>\r\n        </div>\r\n    );\r\n}\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {TextArea} from \"../../common/FormsControls/FormsControls\";\r\n\r\nconst MyPosts = React.memo ( (props) => {\r\n    let postElements = props.postData.map(\r\n        postData => (<Post message={postData.message} likesCount={postData.likesCount}/>)\r\n    );\r\n\r\n    const onSubmit = (values) => {\r\n        props.addPost(values.newPostText);\r\n    };\r\n\r\n    return (\r\n        <div className={s.postBlock}>\r\n            {console.log(\"RENDER\")}\r\n            <h3>My posts</h3>\r\n            <AddPostReduxForm onSubmit={onSubmit}/>\r\n            <div className={s.posts}>\r\n                {postElements}\r\n            </div>\r\n        </div>\r\n    );\r\n})\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\n\r\nconst onAddPost = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={TextArea} name={'newPostText'} validate={[required, maxLength30]}\r\n                       placeholder={\"Post message\"}/>\r\n            </div>\r\n            <div>\r\n                <Field component={'button'}>Add post</Field>\r\n            </div>\r\n        </form>\r\n\r\n    );\r\n}\r\n\r\nconst AddPostReduxForm = reduxForm({form: 'addProfilePostReduxForm'})(onAddPost);\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPostActionCreator, updateNewPostTextActionCreator} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        postData: state.ProfilePage.postData,\r\n        newPostText: state.ProfilePage.newPostText\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {dispatch(addPostActionCreator(newPostText))}\r\n    }\r\n}\r\n\r\nlet MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport Preloader from \"../common/preloader/Preloader\";\r\n\r\nconst Profile = (props) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    } else {\r\n        return (\r\n            <div className={s.content}>\r\n                <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n                <MyPostsContainer/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getUserProfileThunkCreator,\r\n    getUserStatusThunkCreator,\r\n    setUserProfile,\r\n    updateStatusThunkCreator\r\n} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.autorizedUserId;\r\n        } else if (!userId)\r\n            this.props.history.push(\"/login\");\r\n        if (userId) {\r\n            this.props.getUserProfileThunkCreator(userId);\r\n            this.props.getUserStatusThunkCreator(userId);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile profile={this.props.profile} status={this.props.status}\r\n                     updateStatus={this.props.updateStatusThunkCreator}/>\r\n        )\r\n    };\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.ProfilePage.profile,\r\n    status: state.ProfilePage.status,\r\n    autorizedUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        setUserProfile,\r\n        getUserProfileThunkCreator,\r\n        getUserStatusThunkCreator,\r\n        updateStatusThunkCreator\r\n    }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}